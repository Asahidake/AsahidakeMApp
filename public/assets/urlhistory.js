var UrlHistory=function(a,t){"use strict";function o(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var n=o(t);function e(a,t){return new Promise((o,e)=>{n.default(a).load(t,(a,t,n)=>{"error"===t?e(new i(n.status,n.statusText)):o()})})}class i extends Error{constructor(a,t){super(t),this.code=a}}let u=!1;function s(a){if(u)return AsahidakeMap.fitView(a)}function r(a){if(u)return AsahidakeMap.highlightTrail(a)}async function l(a){switch(a){case"aboutDaisetsuzan":await e("#column","aboutDaisetsuzan.html"),s("loop"),r(null);break;case"aboutTrailToPeak":await e("#column","aboutTrailToPeak.html"),s("summit"),r("summit");break;case"about6hLoop":await e("#column","about6hLoop.html"),s("loop"),r("loop");break;case"info":await e("#column","info.html"),r(null);break;case"aboutDaisetsuzanGrade":await e("#column","aboutDaisetsuzanGrade.html"),r(null);break;case"blog":await e("#column","blog.html"),r(null);break;case"aboutSugatami":default:await e("#column","aboutSugatami.html"),s("sugatami"),r("sugatami")}}function c(a){console.dir("pushStateAndNav"),window.history.pushState({page:a},null,"#/"+a),l(a)}function d(a,t){document.getElementById(a).addEventListener("click",t)}new Promise((a,t)=>{if(void 0!==window.AsahidakeMap)return a(window.AsahidakeMap);document.getElementById("map-script").addEventListener("load",()=>{void 0!==window.AsahidakeMap?(u=!0,a(window.AsahidakeMap)):t(new Error("Error loading map script"))})}),d("aboutDaisetsuzan",(function(){c("aboutDaisetsuzan")})),d("aboutSugatami",(function(){c("aboutSugatami")})),d("aboutTrailToPeak",(function(){c("aboutTrailToPeak")})),d("about6hLoop",(function(){c("about6hLoop")})),d("info",(function(){c("info")})),d("aboutDaisetsuzanGrade",(function(){c("aboutDaisetsuzanGrade")})),d("blog",(function(){c("blog")}));const b=document.querySelectorAll(".navbar-burger,.navbar-menu");function m(){for(let a of b)a.classList.toggle("is-active")}for(let a of b)a.addEventListener("click",m);return window.onpopstate=function(){const a=null!==history.state?history.state.page:null;console.dir("onpopstate  state:"+a),l(a)},l(document.location.hash.substring(2)),a.doNav=l,a.pushStateAndNav=c,a}({},$);
//# sourceMappingURL=urlhistory.js.map
