var UrlHistory=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(e);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var o,a,i=(function(t,e){t.exports=function(){var t,e,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(t,e,n){return t<e?e:t>n?n:t}function a(t){return 100*(-1+t)}function i(t,e,n){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+a(t)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(t)+"%,0)"}:{"margin-left":a(t)+"%"}).transition="all "+e+"ms "+n,o}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(r[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=o(t,r.minimum,1),n.status=1===t?null:t;var a=n.render(!e),l=a.querySelector(r.barSelector),c=r.speed,d=r.easing;return a.offsetWidth,s((function(e){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),u(l,i(t,c,d)),1===t?(u(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout((function(){u(a,{transition:"all "+c+"ms linear",opacity:0}),setTimeout((function(){n.remove(),e()}),c)}),c)):setTimeout(e,c)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var t=function(){setTimeout((function(){n.status&&(n.trickle(),t())}),r.trickleSpeed)};return r.trickle&&t(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?("number"!=typeof t&&(t=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},t=0,e=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&n.start(),t++,e++,r.always((function(){0==--e?(t=0,n.done()):n.set((t-e)/t)})),this):this},n.render=function(t){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var o,i=e.querySelector(r.barSelector),s=t?"-100":a(n.status||0),l=document.querySelector(r.parent);return u(i,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),r.showSpinner||(o=e.querySelector(r.spinnerSelector))&&m(o),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(e),e},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&m(t)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var s=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),u=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function r(e){var n=document.body.style;if(e in n)return e;for(var r,o=t.length,a=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=t[o]+a)in n)return r;return e}function o(t){return t=n(t),e[t]||(e[t]=r(t))}function a(t,e,n){e=o(e),t.style[e]=n}return function(t,e){var n,r,o=arguments;if(2==o.length)for(n in e)void 0!==(r=e[n])&&e.hasOwnProperty(n)&&a(t,n,r);else a(t,o[1],o[2])}}();function l(t,e){return("string"==typeof t?t:f(t)).indexOf(" "+e+" ")>=0}function c(t,e){var n=f(t),r=n+e;l(n,e)||(t.className=r.substring(1))}function d(t,e){var n,r=f(t);l(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function f(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function m(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n}()}(a={path:o,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&a.path)}},a.exports),a.exports);function s(t,e){return new Promise((n,o)=>{r.default(t).load(e,(t,e,r)=>{"error"===e?o(new u(r.status,r.statusText)):n()})})}class u extends Error{constructor(t,e){super(e),this.code=t}}let l=!1;function c(t){if(l)return AsahidakeMap.fitView(t)}function d(t){if(l)return AsahidakeMap.highlightTrail(t)}async function f(t){switch(t){case"aboutDaisetsuzan":await s("#column","aboutDaisetsuzan.html"),c("loop"),d(null);break;case"aboutTrailToPeak":await s("#column","aboutTrailToPeak.html"),c("summit"),d("summit");break;case"about6hLoop":await s("#column","about6hLoop.html"),c("loop"),d("loop");break;case"info":await s("#column","info.html"),d(null);break;case"aboutDaisetsuzanGrade":await s("#column","aboutDaisetsuzanGrade.html"),d(null);break;case"blog":await s("#column","blog.html"),d(null);break;case"aboutSugatami":default:await s("#column","aboutSugatami.html"),c("sugatami"),d("sugatami")}}function m(t){console.dir("pushStateAndNav"),window.history.pushState({page:t},null,"#/"+t),f(t)}function p(t,e){document.getElementById(t).addEventListener("click",e)}new Promise((t,e)=>{if(void 0!==window.AsahidakeMap)return t(window.AsahidakeMap);document.getElementById("map-script").addEventListener("load",()=>{void 0!==window.AsahidakeMap?(l=!0,t(window.AsahidakeMap)):e(new Error("Error loading map script"))})}),p("aboutDaisetsuzan",(function(){m("aboutDaisetsuzan")})),p("aboutSugatami",(function(){m("aboutSugatami")})),p("aboutTrailToPeak",(function(){m("aboutTrailToPeak")})),p("about6hLoop",(function(){m("about6hLoop")})),p("info",(function(){m("info")})),p("aboutDaisetsuzanGrade",(function(){m("aboutDaisetsuzanGrade")})),p("blog",(function(){m("blog")}));const g=document.querySelectorAll(".navbar-burger,.navbar-menu");function b(){for(let t of g)t.classList.toggle("is-active")}for(let t of g)t.addEventListener("click",b);let h;return window.onpopstate=function(){const t=null!==history.state?history.state.page:null;console.dir("onpopstate  state:"+t),f(t)},f(document.location.hash.substring(2)),r.default(document).ajaxStart(()=>{h=setTimeout(()=>i.start(),100)}),r.default(document).ajaxStop(()=>{clearTimeout(h),i.isStarted()&&i.done()}),t.doNav=f,t.pushStateAndNav=m,t}({},$);
//# sourceMappingURL=urlhistory.js.map
